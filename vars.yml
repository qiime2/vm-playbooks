---

ec2_region: us-west-2
# image_id: ami-edd7738d
image_id: ami-a9d276c9
# image_id: ami-cbd276ab
jump_host_name: workshop_jump_host
jump_host_type: t2.nano
compute_host_name: workshop_compute_host
compute_host_type: t2.nano
compute_host_count: 1
group_name: ssh-workshops
workshop_name: "PHX Fall 2016"
eip: 35.161.218.38
vpc_cidr_block: 172.23.0.0/16
workshop_key_fn: workshopkey-private.pem

security_groups:
  - name: "{{ group_name }}"
    desc: for jump host
    rules:
      - proto: tcp
        from_port: 22
        to_port: 22
        cidr_ip: 0.0.0.0/0
      - proto: tcp
        from_port: 80
        to_port: 80
        cidr_ip: 0.0.0.0/0

ec2_jump_host_instances:
  - instance_type: "{{ jump_host_type }}"
    image: "{{ image_id }}"
    group: ["{{ group_name }}"]
    instance_tags:
      Name: "{{ jump_host_name }}"
    exact_count: 1
    count_tag:
      Name: "{{ jump_host_name }}"

ec2_compute_instances:
  - instance_type: "{{ compute_host_type }}"
    image: "{{ image_id }}"
    group: ["{{ group_name }}"]
    instance_tags:
      Name: "{{ compute_host_name }}"
    exact_count: "{{ compute_host_count }}"
    count_tag:
      Name: "{{ compute_host_name }}"
